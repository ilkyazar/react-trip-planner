(this["webpackJsonptrip-planner"]=this["webpackJsonptrip-planner"]||[]).push([[0],{29:function(e,t,c){},45:function(e,t,c){},47:function(e,t,c){},50:function(e,t,c){},69:function(e,t,c){},71:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(15),s=c.n(r),i=(c(45),c(4)),d=c(27),j=c(7),u={budget:3e3,cities:[{id:1,name:"Paris",cost:500},{id:2,name:"London",cost:450},{id:3,name:"Barcelona",cost:400},{id:4,name:"Madrid",cost:350},{id:5,name:"Rome",cost:300},{id:6,name:"Amsterdam",cost:250},{id:7,name:"Prague",cost:200},{id:8,name:"Brussels",cost:150},{id:9,name:"Budapest",cost:100},{id:10,name:"Istanbul",cost:50}],selectedCityIds:[]},o=Object(n.createContext)(),l=c(11),b=c(2),O=function(e,t){switch(t.type){case"SET_BUDGET":return Object(b.a)(Object(b.a)({},e),{},{budget:t.payload});case"ADD_SELECTED_CITY":return Object(b.a)(Object(b.a)({},e),{},{selectedCityIds:[].concat(Object(l.a)(e.selectedCityIds),[t.payload])});case"REMOVE_SELECTED_CITY":return Object(b.a)(Object(b.a)({},e),{},{selectedCityIds:e.selectedCityIds.filter((function(e){return e!==t.payload}))});default:return e}},m=c(1),x=function(e){var t=Object(n.useReducer)(O,u),c=Object(j.a)(t,2),a=c[0],r=c[1];return Object(m.jsx)(o.Provider,{value:{budget:a.budget,cities:a.cities,selectedCityIds:a.selectedCityIds,dispatch:r},children:e.children})},h=c(28),f=c(18),p=(c(47),function(){return Object(m.jsx)(h.a,{children:Object(m.jsx)(f.a,{className:"header-container",children:Object(m.jsx)(h.a.Brand,{children:Object(m.jsx)("h2",{children:"Trip Planner"})})})})}),g=c(16),y=c(40),v=(c(29),function(e){var t=Object(n.useState)(e.budget),c=Object(j.a)(t,2),a=c[0],r=c[1];return Object(m.jsxs)("div",{className:"edit-budget",children:[Object(m.jsx)(y.a.Text,{children:"$"}),Object(m.jsx)("input",{required:"required",type:"number",className:"form-control",id:"name",value:a,onChange:function(e){return r(e.target.value)}}),Object(m.jsx)(g.a,{variant:"outline-success",onClick:function(){return e.handleSaveClick(a)},children:"Save"})]})}),C=c(39),T=function(){var e=Object(n.useContext)(o),t=e.budget,c=e.dispatch,a=Object(n.useState)(!1),r=Object(j.a)(a,2),s=r[0],i=r[1];return Object(m.jsx)("div",{className:"budget-container",children:s?Object(m.jsx)(v,{handleSaveClick:function(e){c({type:"SET_BUDGET",payload:e}),i(!1)},budget:t}):Object(m.jsxs)("div",{className:"alert alert-secondary show-budget",onClick:function(){i(!0)},children:[Object(m.jsxs)("span",{children:["Budget: $",t]}),Object(m.jsx)(C.a,{size:"1.75em"})]})})},S=function(e,t){return e.filter((function(e){return t.includes(e.id)}))},E=function(e){return e.reduce((function(e,t){return e+t.cost}),0)},N=function(e){var t=Object(n.useContext)(o),c=t.budget,a=t.cities,r=t.selectedCityIds,s=t.dispatch,i=S(a,r),d=E(i);return Object(m.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[e.selected?Object(m.jsx)(g.a,{onClick:function(){s({type:"REMOVE_SELECTED_CITY",payload:e.id})},variant:"danger",children:"Remove"}):Object(m.jsx)(g.a,{onClick:function(){d+e.cost>c?alert("Above your budget! You cannot add this city."):s({type:"ADD_SELECTED_CITY",payload:e.id})},children:"Add"}),e.name,Object(m.jsx)("div",{children:Object(m.jsxs)("span",{className:"badge rounded-pill bg-success mx-8",children:["$",e.cost]})})]})},I=function(){var e=Object(n.useContext)(o),t=e.budget,c=e.cities,r=e.selectedCityIds,s=S(c,r),d=E(s),j=d>t?"alert-danger":"alert-success",u=Object(i.d)();return Object(m.jsxs)(a.a.Fragment,{children:[Object(m.jsx)("div",{className:"alert p-4 ".concat(j),children:Object(m.jsxs)("span",{children:["Remaining: $",t-d]})}),t-d>=0&&s.length>=3&&Object(m.jsx)("div",{className:"d-grid gap-2",children:Object(m.jsx)(g.a,{onClick:function(){u("/trip")},className:"plan-btn",variant:"success",size:"lg",children:"Plan Your Trip!"})})]})},D=function(){var e=Object(n.useContext)(o),t=e.cities,c=e.selectedCityIds,r=S(t,c),s=function(e,t){return e.filter((function(e){return!t.includes(e.id)}))}(t,c);return Object(m.jsxs)(a.a.Fragment,{children:[Object(m.jsx)("div",{children:Object(m.jsx)("ul",{className:"list-group",children:r.map((function(e){return Object(m.jsx)(N,{id:e.id,selected:!0,name:e.name,cost:e.cost},e.id)}))})}),Object(m.jsx)(I,{}),Object(m.jsx)("ul",{className:"list-group",children:s.map((function(e){return Object(m.jsx)(N,{id:e.id,selected:!1,name:e.name,cost:e.cost},e.id)}))})]})},_=(c(50),function(){return Object(m.jsxs)(f.a,{className:"main-container",children:[Object(m.jsx)(p,{}),Object(m.jsx)(T,{}),Object(m.jsx)(D,{})]})}),k=c(24),B=c(14),F=function(e){return Object(m.jsxs)(B.a,{children:[Object(m.jsxs)(B.a.Body,{children:[Object(m.jsx)(B.a.Title,{children:e.tripTitle}),Object(m.jsx)(B.a.Text,{children:e.tripText})]}),Object(m.jsx)(B.a.Footer,{children:Object(m.jsx)("small",{className:"text-muted",children:e.tripFooter})})]})},M=c(38),P=c.n(M),w=(c(69),function(e){var t=Object(n.useState)(!1),c=Object(j.a)(t,2),r=c[0],s=c[1],i=Object(n.useState)(!1),d=Object(j.a)(i,2),u=d[0],o=d[1],l=Object(n.useState)(!1),b=Object(j.a)(l,2),O=b[0],x=b[1],h=e.name;return Object(n.useEffect)((function(){P.a.get("https://api.pexels.com/v1/search",{headers:{authorization:"563492ad6f91700001000001b68de3026efe4285afa7c113bb10384e"},params:{query:h,per_page:3}}).then((function(e){return e.data.photos})).then((function(e){s(e[0].src.medium),o(e[1].src.medium),x(e[2].src.medium)})).catch((function(e){return console.log(e)}))})),Object(m.jsxs)(a.a.Fragment,{children:[Object(m.jsx)("h4",{children:h}),Object(m.jsxs)(k.a,{className:"card-group",children:[Object(m.jsx)(B.a,{children:Object(m.jsx)(B.a.Img,{className:"card-img",variant:"top",src:r.toString()})}),Object(m.jsx)(B.a,{children:Object(m.jsx)(B.a.Img,{className:"card-img",variant:"top",src:u.toString()})}),Object(m.jsx)(B.a,{children:Object(m.jsx)(B.a.Img,{className:"card-img",variant:"top",src:O.toString()})})]})]})}),A=c(3),R=[];function Y(e,t,c,n){var a=JSON.parse(JSON.stringify(n)).filter((function(e){return e.days>0}));if(R[t]=a,t>c)return 0;if(e===n.length)return t;n[e].days++;var r=Y(e+1,t+n[e].cost,c,n);n[e].days--;var s=Y(e+1,t,c,n);return r>s?r:s}var J=function(e){return Array.from(e.reduce((function(e,t){var c=t.cost,n=t.days,a=Object(A.a)(t,["cost","days"]),r=JSON.stringify(a),s=e.get(r)||Object(b.a)(Object(b.a)({},a),{},{cost:0,days:0});return e.set(r,Object(b.a)(Object(b.a)({},s),{},{cost:s.cost+c,days:s.days+n}))}),new Map).values())},L=function(e){for(var t="",c=0,n=0;n<e.length;n++)t+=e[n].days,1===e[n].days?t+=" day ":t+=" days ",t+=e[n].name+" ("+e[n].cost+" USD)",c+=e[n].cost,n!==e.length-1&&(t+=" + ");return t+=" = "+c+" USD"},U=function(e){for(var t=0,c=0,n=0;n<e.length;n++)t+=e[n].cost,c+=e[n].days;return c+" days, "+t+" USD"},$=function(e,t,c){for(var n=0,a=[];;){var r=Y(0,0,e-n,t);if(a=[].concat(Object(l.a)(a),Object(l.a)(R[r])),e-c<(n+=r)&&n<=e)break}return J(a)},q=function(){var e=Object(n.useContext)(o),t=e.budget,c=e.cities,r=e.selectedCityIds,s=S(c,r),i=function(e,t){var c=t.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{days:0})})),n=Math.min.apply(Math,Object(l.a)(t.map((function(e){return e.cost})))),a=Math.max.apply(Math,Object(l.a)(t.map((function(e){return e.cost})))),r=c.filter((function(e){return e.cost!==a})).map((function(e){return Object(b.a)(Object(b.a)({},e),{},{days:0})})),s=$(e,c,n),i=function(e){for(var t=0,c=0;c<e.length;c++)t+=e[c].cost;return t}(t),d=$(e-i,r,n),j=$(i,c,n),u=J([].concat(Object(l.a)(d),Object(l.a)(j))),o=$(e,r,n);return[Object(l.a)(s),Object(l.a)(u),Object(l.a)(o)]}(t,s),d=i[0],j=L(d),u=U(d),O=i[1],x=L(O),h=U(O),f=i[2],p=L(f),g=U(f);return Object(m.jsxs)(a.a.Fragment,{children:[Object(m.jsx)("div",{children:"Here are your travel plans!"}),Object(m.jsxs)(k.a,{children:[Object(m.jsx)(F,{tripTitle:"Plan 1",tripText:j,tripFooter:u}),Object(m.jsx)(F,{tripTitle:"Plan 2",tripText:x,tripFooter:h}),Object(m.jsx)(F,{tripTitle:"Plan 3",tripText:p,tripFooter:g})]}),Object(m.jsx)("div",{children:s.map((function(e){return Object(m.jsx)(w,{name:e.name},e.id)}))})]})},z=function(){return Object(m.jsxs)(f.a,{className:"main-container",children:[Object(m.jsx)(p,{}),Object(m.jsx)(q,{})]})},G=function(){return Object(i.f)([{path:"/",element:Object(m.jsx)(_,{})},{path:"/trip",element:Object(m.jsx)(z,{})}])},V=function(){return Object(m.jsx)(x,{children:Object(m.jsx)(d.a,{basename:"/react-trip-planner",children:Object(m.jsx)(G,{})})})};c(70);s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(V,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.0dc37a2e.chunk.js.map